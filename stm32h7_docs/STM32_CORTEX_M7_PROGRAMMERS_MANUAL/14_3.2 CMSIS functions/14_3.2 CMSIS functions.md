To ensure a smooth transition, Arm recommends that the code designed to operate on other Cortex®-M profile processor architectures obey the following rules and that the *Configuration and Control Register* (CCR) be appropriately configured:

- Use word transfers only to access registers in the NVIC and *System Control Space* (SCS).
- Treat all unused SCS registers and register fields on the processor as Do-Not-Modify.
- Configure the following fields in the CCR register:
  - STKALIGN bit to 1.
  - UNALIGN\_TRP bit to 1.
  - Leave all other bits in the CCR register at their original value.

## **3.2 CMSIS functions**

ISO/IEC C code cannot directly access some Cortex®-M7 processor instructions. This section describes intrinsic functions that can generate these instructions, provided by the CMSIS and that might be provided by a C compiler. If a C compiler does not support an appropriate intrinsic function, the user might have to use inline assembler to access some instructions.

The CMSIS provides the following intrinsic functions to generate instructions that ISO/IEC C code cannot directly access:

**Table 24. CMSIS functions to generate some Cortex®-M7 processor instructions** 

| Instruction | CMSIS function                    |
|-------------|-----------------------------------|
| CPSIE I     | voidenable_irq(void)              |
| CPSID I     | voiddisable_irq(void)             |
| CPSIE F     | voidenable_fault_irq(void)        |
| CPSID F     | voiddisable_fault_irq(void)       |
| ISB         | voidISB(void)                     |
| DSB         | voidDSB(void)                     |
| DMB         | voidDMB(void)                     |
| REV         | uint32_tREV(uint32_t int value)   |
| REV16       | uint32_tREV16(uint32_t int value) |
| REVSH       | uint32_tREVSH(uint32_t int value) |
| RBIT        | uint32_tRBIT(uint32_t int value)  |
| SEV         | voidSEV(void)                     |
| WFE         | voidWFE(void)                     |
| WFI         | voidWFI(void)                     |

The CMSIS also provides a number of functions for accessing the special registers using MRS and MSR instructions:

62/254 PM0253 Rev 5