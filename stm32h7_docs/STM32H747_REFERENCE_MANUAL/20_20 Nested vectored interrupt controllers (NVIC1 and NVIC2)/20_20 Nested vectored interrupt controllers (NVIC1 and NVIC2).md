### **20 Nested vectored interrupt controllers (NVIC1 and NVIC2)**

### **20.1 NVIC features**

Both CPU1 (Cortex®-M7) and CPU2 (Cortex®-M4) cores have their own nested vector interrupt controller (respectively NVIC1 and NVIC2). The NVIC includes the following features:

- up to 150 maskable interrupt channels for STM32H7xxx (not including the 16 interrupt lines of Cortex®-M7 / Cortex®-M4 with FPU)
- 16 programmable priority levels (4 bits of interrupt priority are used)
- low-latency exception and interrupt handling
- power management control
- implementation of system control registers

The NVIC and the processor core interface are closely coupled, which enables low latency interrupt processing and efficient processing of late arriving interrupts.

All interrupts, including the core exceptions, are managed by the NVIC.

For more information on exceptions and NVIC programming, refer to PM0253 and PM0214 programming manuals for Cortex®-M7 and for Cortex®-M4, respectively.

#### **20.1.1 SysTick calibration value register**

The SysTick calibration value (SYST\_CALIB) is fixed to 0x3E8. It provides a reference timebase of 1 ms based when the SysTick clock frequency is 1 MHz. To match the 1 ms timebase whatever the application frequency, the SysTick reload value must be programmed as follows in the SYST\_RVR register:

• The SysTick clock source is the 100 MHz CPU clock (HCLK):

reload value = 
$$(F_{HCLK} \times SYST\_CALIB) - 1$$

• or the SysTick clock source is an external clock:

reload value = 
$$((F_{HCLK}/ 8) \times SYST\_CALIB) - 1$$

where FHCLK refers to the AHB frequency expressed in MHz.

For example, to achieve a timebase of 1 ms when the SysTick clock source is the 100 MHz HCLK:

reload value = 
$$(100 \times SYST\_CALIB) - 1 = 0x1869F$$

#### **20.1.2 Interrupt and exception vectors**

Each CPU has its own exceptions connected to its Nested vectored interrupt controller (NVIC): reset, NMI, HardFault, MemManage, Bus Fault, UsageFault, SVCall, DebugMonitor, PendSV, SysTick.

Each CPU also has its own Floating Point Unit (FPU) interrupt connected to its Nested Vectored Interrupt Controller (NVIC), in position 81.

![](_page_0_Picture_26.jpeg)

The Window Watchdog 1 (WWDG1) interrupt is connected to the CPU1 NVIC (NVIC1) position 0, while Window Watchdog 2 (WWDG2) interrupt is connected to the CPU2 NVIC (NVIC2) position 0.

The Window Watchdog 1 (WWDG1) reset output signal is connected to the CPU2 NVIC (NVIC2) position 143 via the Extended Interrupt and Event Controller (EXTI). Similarly, the Window Watchdog 2 (WWDG2) reset output signal is connected to the CPU1 NVIC (NVIC1) position 143 via the Extended Interrupt and Event Controller (EXTI).

Refer to Section 47: System window watchdog (WWDG) and Section 48: Independent watchdog (IWDG) for the description of watchdog interrupts and reset.

Hardware Semaphore (HSEM) interrupt line 0 is connected to the CPU1 NVIC (NVIC1) position 125, while Hardware Semaphore (HSEM) interrupt line 1 is connected to the CPU2 NVIC (NVIC2) position 126.

The CPU2 hold interrupt is connected to the CPU1 NVIC (NVIC1) position 148. Similarly, the CPU1 hold interrupt is connected to the CPU2 NVIC (NVIC2) position 148. Refer to *Power control (PWR)* for the description of the CPU hold mechanism.

All other interrupt lines coming from peripherals are connected in a symmetrical way on both NVIC1 and NVIC2.

Table 149. NVIC1 (CPU1) and NVIC2 (CPU2)<sup>(1)</sup>

| 14516 1451 (61 61) 4114 144162 (61 62) |          |                |              |                   |                                                                                          |                             |
|----------------------------------------|----------|----------------|--------------|-------------------|------------------------------------------------------------------------------------------|-----------------------------|
| Signal                                 | Priority | NVIC1 position | Acronym      | NVIC2<br>position | Description                                                                              | Address<br>offset           |
| -                                      | -        | -              | -            | -                 | Reserved                                                                                 | 0x0000 0000                 |
| -                                      | -3       | -              | Reset        | -                 | Reset                                                                                    | 0x0000 0004                 |
| -                                      | -2       | -              | NMI          | -                 | Non maskable interrupt. The RCC Clock Security System (CSS) is linked to the NMI vector. | 0x0000 0008                 |
| -                                      | -1       | -              | HardFault    | -                 | All classes of fault                                                                     | 0x0000 000C                 |
| -                                      | 0        | -              | MemManage    | -                 | Memory management                                                                        | 0x0000 0010                 |
| -                                      | 1        | -              | BusFault     | -                 | Prefetch fault,<br>memory access fault                                                   | 0x0000 0014                 |
| -                                      | 2        | -              | UsageFault   | -                 | Undefined instruction or illegal state                                                   | 0x0000 0018                 |
| -                                      | ı        | -              | -            | -                 | Reserved                                                                                 | 0x0000 001C-<br>0x0000 002B |
| -                                      | 3        | -              | SVCall       | -                 | System service call via SWI instruction                                                  | 0x0000 002C                 |
| -                                      | 4        | -              | DebugMonitor | -                 | Debug monitor                                                                            | 0x0000 0030                 |
| -                                      | -        | -              | -            | -                 | Reserved                                                                                 | 0x0000 0034                 |
| -                                      | 5        | -              | PendSV       | _                 | Pendable request for system service                                                      | 0x0000 0038                 |
| -                                      | 6        | -              | Systick      | -                 | System tick timer                                                                        | 0x0000 003C                 |

Table 149. NVIC1 (CPU1) and NVIC2 (CPU2)<sup>(1)</sup> (continued)

| Signal             | Priority | NVIC1 position | Acronym        | NVIC2 position | Description                                | Address<br>offset |
|--------------------|----------|----------------|----------------|----------------|--------------------------------------------|-------------------|
| wwdg1_it           | _        | 0              | WWDG1          | -              | A/2-1 AA/-(-1-1                            | 0.0000.0040       |
| wwdg2_it           | 7        | -              | WWDG2          | 0              | Window Watchdog interrupt                  | 0x0000 0040       |
| exti_pwr_pvd_wkup  | 8        | 1              | PVD_PVM        | 1              | PVD through EXTI line detection interrupt  | 0x0000 0044       |
| exti_tamp_rtc_wkup | •        | 0              | RTC_TAMP_STAMP | 0              | RTC tamper, timestamp                      |                   |
| lsecss_rcc_it      | 9        | 2              | _CSS_LSE       | 2              | CSS LSE                                    | 0x0000 0048       |
| exti_wkup_rtc_wkup | 10       | 3              | RTC_WKUP       | 3              | RTC Wakeup interrupt through the EXTI line | 0x0000 004C       |
| flash_it           | 11       | 4              | FLASH          | 4              | Flash memory<br>global interrupt           | 0x0000 0050       |
| rcc_it             | 12       | 5              | RCC            | 5              | RCC global interrupt                       | 0x0000 0054       |
| exti_exti0_wkup    | 13       | 6              | EXTI0          | 6              | EXTI Line 0 interrupt                      | 0x0000 0058       |
| exti_exti1_wkup    | 14       | 7              | EXTI1          | 7              | EXTI Line 1 interrupt                      | 0x0000 005C       |
| exti_exti2_wkup    | 15       | 8              | EXTI2          | 8              | EXTI Line 2 interrupt                      | 0x0000 0060       |
| exti_exti3_wkup    | 16       | 9              | EXTI3          | 9              | EXTI Line 3interrupt                       | 0x0000 0064       |
| exti_exti4_wkup    | 17       | 10             | EXTI4          | 10             | EXTI Line 4interrupt                       | 0x0000 0068       |
| dma1_it0           | 18       | 11             | DMA_STR0       | 11             | DMA1 Stream0<br>global interrupt           | 0x0000 006C       |
| dma1_it1           | 19       | 12             | DMA_STR1       | 12             | DMA1 Stream1<br>global interrupt           | 0x0000 0070       |
| dma1_it2           | 20       | 13             | DMA_STR2       | 13             | DMA1 Stream2<br>global interrupt           | 0x0000 0074       |
| dma1_it3           | 21       | 14             | DMA_STR3       | 14             | DMA1 Stream3<br>global interrupt           | 0x0000 0078       |
| dma1_it4           | 22       | 15             | DMA_STR4       | 15             | DMA1 Stream4<br>global interrupt           | 0x0000 007C       |
| dma1_it5           | 23       | 16             | DMA_STR5       | 16             | DMA1 Stream5<br>global interrupt           | 0x0000 0080       |
| dma1_it6           | 24       | 17             | DMA_STR6       | 17             | DMA1 Stream6<br>global interrupt           | 0x0000 0084       |
| adc1_it<br>adc2_it | 25       | 18             | ADC1_2         | 18             | ADC1 and ADC2<br>global interrupt          | 0x0000 0088       |
| ttfdcan intr0 it   | 26       | 19             | FDCAN1 IT0     | 19             | FDCAN1 Interrupt 0                         | 0x0000 008C       |
| fdcan_intr0_it     | 27       | 20             | FDCAN2_IT0     | 20             | FDCAN2 Interrupt 0                         | 0x0000 0090       |
| ttfdcan_intr1_it   | 28       | 21             | FDCAN1 IT1     | 21             | FDCAN1 Interrupt 1                         | 0x0000 0094       |
| fdcan_intr1_it     | 29       | 22             | FDCAN2 IT1     | 22             | FDCAN2 Interrupt 1                         | 0x0000 0001       |

![](_page_2_Picture_5.jpeg)

# Table 149. NVIC1 (CPU1) and NVIC2 (CPU2)<sup>(1)</sup> (continued)

| Signal            | Priority | NVIC1 position | Acronym      | NVIC2 position | Description                             | Address<br>offset     |                                         |             |
|-------------------|----------|----------------|--------------|----------------|-----------------------------------------|-----------------------|-----------------------------------------|-------------|
| exti_exti5_wkup   |          |                |              |                |                                         |                       |                                         |             |
| exti_exti6_wkup   |          |                | EXTI9_5      |                |                                         | 0x 0000 009C          |                                         |             |
| exti_exti7_wkup   | 30       | 23             |              | 23             | EXTI Line[9:5] interrupts               |                       |                                         |             |
| exti_exti8_wkup   |          |                |              |                |                                         |                       |                                         |             |
| exti_exti9_wkup   |          |                |              |                |                                         |                       |                                         |             |
| tim1_brk_it       | 31       | 24             | TIM1_BRK     | 24             | TIM1 break interrupt                    | 0x0000 00A0           |                                         |             |
| tim1_upd_it       | 32       | 25             | TIM1_UP      | 25             | TIM1 update interrupt                   | 0x0000 00A4           |                                         |             |
| tim1_trg_it       | 33       | 26             | TIM1_TRG_COM | 26             | TIM1 trigger and commutation interrupts | 0x0000 00A8           |                                         |             |
| tim1_cc_it        | 34       | 27             | TIM_CC       | 27             | TIM1 capture / compare interrupt        | 0x0000 00AC           |                                         |             |
| tim2_it           | 35       | 28             | TIM2         | 28             | TIM2 global interrupt                   | 0x0000 00B0           |                                         |             |
| tim3_it           | 36       | 29             | TIM3         | 29             | TIM3 global interrupt                   | 0x0000 00B4           |                                         |             |
| tim4_it           | 37       | 30             | TIM4         | 30             | TIM4 global interrupt                   | 0x0000 00B8           |                                         |             |
| i2c1_ev_it        | - 38     | - 38           | 30           | 31             | I2C1 EV                                 | 31                    | I2C1 event interrupt                    | 0x0000 00BC |
| exti_i2c1_ev_wkup |          |                | 31           | 12C1_EV        | 31                                      | 120 i eveni interrupt | 000000000000000000000000000000000000000 |             |
| i2c1_err_it       | 39       | 32             | I2C1_ER      | 32             | I2C1 error interrupt                    | 0x0000 00C0           |                                         |             |
| i2c2_ev_it        | 40       | 40             | 22           | 12C2 EV        | 22                                      | 12C2 event interrunt  | 0,,0000,0004                            |             |
| exti_i2c2_ev_wkup |          | 33             | I2C2_EV      | 33             | I2C2 event interrupt                    | 0x0000 00C4           |                                         |             |
| i2c2_err_it       | 41       | 34             | I2C2_ER      | 34             | I2C2 error interrupt                    | 0x0000 00C8           |                                         |             |
| spi1_it           | 42       | 25             | CDM          | 25             | SDI1 alohal interrupt                   | 0,,0000,0000          |                                         |             |
| exti_spi1_it      |          | 35             | SPI1         | 35             | SPI1 global interrupt                   | 0x0000 00CC           |                                         |             |
| spi2_it           | 43       | 36             | SDIO         | 26             | SPI2 global interrupt                   | 0×0000 0000           |                                         |             |
| exti_spi2_it      |          | 36             | SPI2         | 36             | or iz giobai interrupt                  | 0x0000 00D0           |                                         |             |
| usart1_gbl_it     | 44       | 27             | 37 USART1    | 37             | USART1 global interrupt                 | 0x0000 00D4           |                                         |             |
| exti_usart1_wkup  |          | 3/             |              |                |                                         |                       |                                         |             |
| usart2_gbl_it     | 45       | 20             | USART2       | 38             | USART2 global interrupt                 | 0x0000 00D8           |                                         |             |
| exti_usart2_wkup  |          | 5 38           |              |                |                                         |                       |                                         |             |
| usart3_gbl_it     | 46       | 39             | LICADTO      | 39             | LICADTO alabal interest                 | 0,0000 0000           |                                         |             |
| exti_usart3_wkup  | +0       | Ja             | USART3       | 39             | USART3 global interrupt                 | 0x0000 00DC           |                                         |             |

![](_page_3_Picture_4.jpeg)

791/3556

Table 149. NVIC1 (CPU1) and NVIC2 (CPU2)<sup>(1)</sup> (continued)

| Signal           | Priority | NVIC1    | Acronym          | NVIC2    | Description                                          | Address      |                           |                        |             |
|------------------|----------|----------|------------------|----------|------------------------------------------------------|--------------|---------------------------|------------------------|-------------|
|                  | Pri      | position |                  | position |                                                      | offset       |                           |                        |             |
| exti_exti10_it   |          |          |                  |          |                                                      |              |                           |                        |             |
| exti_exti11_wkup | -        |          |                  | 40       |                                                      | 0x0000 00E0  |                           |                        |             |
| exti_exti12_wkup | 47       | 40       | EVTI15 10        |          | EVTI Lino[15:10] interrupte                          |              |                           |                        |             |
| exti_exti13_wkup | 4/       | 40       | EXTI15_10        |          | EXTI Line[15:10] interrupts                          |              |                           |                        |             |
| exti_exti14_wkup |          |          |                  |          |                                                      |              |                           |                        |             |
| exti_exti15_wkup |          |          |                  |          |                                                      |              |                           |                        |             |
| exti_rtc_al      | 48       | 41       | RTC_ALARM        | 41       | RTC alarms (A and B)<br>through EXTI Line interrupts | 0x0000 00E4  |                           |                        |             |
| -                | 49       | 42       | -                | 42       | -                                                    | 0x0000 00E8  |                           |                        |             |
| tim8_brk_it      | 50       | 43       | TIM8 BRK TIM12   | 43       | TIM8 break and                                       | 0x0000 00EC  |                           |                        |             |
| tim12_gbl_it     | 50       | 70       | THIO_DIAN_THINTE | 70       | TIM12 global interrupts                              | 5X0000 00LO  |                           |                        |             |
| tim8_upd_it      | 51       | 44       | TIM8_UP_TIM13    | 44       | TIM8 update and                                      | 0x0000 00F0  |                           |                        |             |
| tim13_gbl_it     | 01       | 17       | o_o              | 17       | TIM13 global interrupts                              | 2,0000 001 0 |                           |                        |             |
| tim8_trg_it      | 52       | 52       | 52               | 45       | TIM8_TRG_COM                                         | 45           | TIM8 trigger /commutation | 0x0000 00F4            |             |
| tim14_gbl_it     | 02       | 40       | _TIM14           |          | and TIM14 global interrupts                          |              |                           |                        |             |
| tim8_cc_it       | 53       | 46       | TIM8_CC          | 46       | TIM8 capture / compare interrupts                    | 0x0000 00F8  |                           |                        |             |
| dma1_it7         | 54       | 47       | DMA1_STR7        | 47       | DMA1 Stream7<br>global interrupt                     | 0x0000 00FC  |                           |                        |             |
| fmc_gbl_it       | 55       | 48       | FMC              | 48       | FMC global interrupt                                 | 0x0000 0100  |                           |                        |             |
| sdmmc1_it        | 56       | 49       | SDMMC1           | 49       | SDMMC global interrupt                               | 0x0000 0104  |                           |                        |             |
| tim5_gbl_it      | 57       | 50       | TIM5             | 50       | TIM5 global interrupt                                | 0x0000 0108  |                           |                        |             |
| spi3_it          | 58       | 51       | SPI3             | 51       | SPI3 global interrupt                                | 0x0000 010C  |                           |                        |             |
| exti_spi3_wkup   | 50       | 01       | 01 10            | 31       | or to global interrupt                               | 0,0000 0 100 |                           |                        |             |
| uart4_gbl_it     | 59       | 52       | UART4            | 52       | UART4 global interrupt                               | 0x0000 0110  |                           |                        |             |
| exti_uart4_wkup  | 30       | <i></i>  | <i>5.</i>        |          | global intorrupt                                     | 5,0000 0110  |                           |                        |             |
| uart5_gbl_it     | 60       | 60       | 60               | 60       | 53                                                   | UART5        | 53                        | UART5 global interrupt | 0x0000 0114 |
| exti_uart5_wkup  |          | 33       | JAKIS            | 30       | -                                                    | 5,000000114  |                           |                        |             |
| tim6_gbl_it      | 61       | 54       | TIM6_DAC         | 54       | TIM6 global interrupt                                | 0x0000 0118  |                           |                        |             |
| dac_unr_it       |          |          |                  |          | DAC underrun error interrupt                         |              |                           |                        |             |
| tim7_gbl_it      | 62       | 55       | TIM7             | 55       | TIM7 global interrupt                                | 0x0000 011C  |                           |                        |             |
| dma2_it0         | 63       | 56       | DMA2_STR0        | 56       | DMA2 Stream0 interrupt                               | 0x0000 0120  |                           |                        |             |
| dma2_it1         | 64       | 57       | DMA2_STR1        | 57       | DMA2 Stream1 interrupt                               | 0x0000 0124  |                           |                        |             |
| dma2_it2         | 65       | 58       | DMA2_STR2        | 58       | DMA2 Stream2 interrupt                               | 0x0000 0128  |                           |                        |             |

![](_page_4_Picture_5.jpeg)

# Table 149. NVIC1 (CPU1) and NVIC2 (CPU2)<sup>(1)</sup> (continued)

| Signal            | Priority | NVIC1 position | Acronym        | NVIC2 position | Description                                                     | Address<br>offset         |                      |             |
|-------------------|----------|----------------|----------------|----------------|-----------------------------------------------------------------|---------------------------|----------------------|-------------|
| dma2_it3          | 66       | 59             | DMA2_STR3      | 59             | DMA2 Stream3 interrupt                                          | 0x0000 012C               |                      |             |
| dma2_it4          | 67       | 60             | DMA2_STR4      | 60             | DMA2 Stream4 interrupt                                          | 0x0000 0130               |                      |             |
| eth_sbd_intr_it   | 68       | 61             | ETH            | 61             | Ethernet global interrupt                                       | 0x0000 0134               |                      |             |
| exti_eth_wkup     | 69       | 62             | ETH_WKUP       | 62             | Ethernet wakeup through EXTI line interrupt                     | 0x0000 0138               |                      |             |
| fdcan_cal_it      | 70       | 63             | FDCAN_CAL      | 63             | FDCAN calibration interrupts                                    | 0x0000 013C               |                      |             |
| cm7_sev_it        | 71       | -              | -              | 64             | Arm <sup>®</sup> Cortex <sup>®</sup> -M7 Send<br>even interrupt | 0x0000 0140               |                      |             |
| cm4_sev_it        | 72       | 65             | -              | -              | Arm <sup>®</sup> Cortex <sup>®</sup> -M4 Send<br>even interrupt | 0x0000 0144               |                      |             |
| NC                | 73       | 66             |                | 66             | -                                                               | 0x0000 0148               |                      |             |
| NC                | 74       | 67             | -              | 67             | -                                                               | 0x0000 014C               |                      |             |
| dma2_it5          | 75       | 68             | DMA2_STR5      | 68             | DMA2 Stream5 interrupt                                          | 0x0000 0150               |                      |             |
| dma2_it6          | 76       | 69             | DMA2_STR6      | 69             | DMA2 Stream6 interrupt                                          | 0x0000 0154               |                      |             |
| dma2_it7          | 77       | 70             | DMA2_STR7      | 70             | DMA2 Stream7 interrupt                                          | 0x0000 0158               |                      |             |
| usart6_gbl_it     | 70       | 74             | USART6         | 71             | USART6 global interrupt                                         | 0x0000 015C               |                      |             |
| exti_usart6_wkup  | 78       | 71             |                |                | USART6 wakeup interrupt                                         |                           |                      |             |
| i2c3_ev_it        | 79       | 70             | 70             | 72             | 12C2 EV                                                         | 72                        | 12C2 event interrunt | 0x0000 0160 |
| exti_i2c3_ev_wkup |          | 12             | I2C3_EV        | 12             | I2C3 event interrupt                                            | 00000001000               |                      |             |
| i2c3_err_it       | 80       | 73             | I2C3_ER        | 73             | I2C3 error interrupt                                            | 0x0000 0164               |                      |             |
| usb1_out_it       | 81       | 74             | OTG_HS_EP1_OUT | 74             | OTG_HS out global interrupt                                     | 0x0000 0168               |                      |             |
| usb1_in_it        | 82       | 75             | OTG_HS_EP1_IN  | 75             | OTG_HS in global interrupt                                      | 0x0000 016C               |                      |             |
| exti_usb1_wkup    | 83       | 76             | OTG_HS_WKUP    | 76             | OTG_HS wakeup interrupt                                         | 0x0000 0170               |                      |             |
| usb1_gbl_it       | 84       | 77             | OTG_HS         | 77             | OTG_HS global interrupt                                         | 0x0000 0174               |                      |             |
| dcmi_it           | 85       | 78             | DCMI           | 78             | DCMI global interrupt                                           | 0x0000 0178               |                      |             |
| cryp_it           | 86       | 79             | CRYP           | 79             | CRYP global interrupt                                           | 0x0000 017C               |                      |             |
| hash_rng_it       | 87       | 80             | HASH_RNG       | 80             | HASH and RNG<br>global interrupt                                | 0x0000 0180               |                      |             |
| cpu1_fpu_it       | 00       | 81             | FPU            | -              | CPU1 FPU                                                        | 0,0000 0494               |                      |             |
| cpu2_fpu_it       | 88       | -              | FPU            | 81             | CPU2 FPU                                                        | 0x0000 0184               |                      |             |
| uart7_gbl_it      | 89       | 00             | 00             |                | 00                                                              | LIADTZ glob ol into month | 0,0000 0480          |             |
| exti_uart7_wkup   |          | 89 82          | UART7          | 82             | UART7 global interrupt                                          | 0x0000 0188               |                      |             |
| uart8_gbl_it      | 90 83    | 00             | LIADTO         | 00             | LIADTO global interment                                         | 0,0000 0400               |                      |             |
| exti_uart8_wkup   |          | 90             | 03             | UART8          | 83                                                              | UART8 global interrupt    | 0x0000 018C          |             |

![](_page_5_Picture_4.jpeg)

RM0399 Rev 4 793/3556

Table 149. NVIC1 (CPU1) and NVIC2 (CPU2)<sup>(1)</sup> (continued)

| Table 143. NVICT (CPOT) and NVICZ (CPOZ). 7 (Continued) |                                                                                                |                  |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |                             |             |
|---------------------------------------------------------|------------------------------------------------------------------------------------------------|------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------|-------------|
| Priority                                                | NVIC1 position                                                                                 | Acronym          | NVIC2 position                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | Address<br>offset           |             |
| 01                                                      | 0.4                                                                                            | CDIA             | 94                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | CDI4 global interrupt                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | 0,0000 0100                 |             |
| 91                                                      | 04                                                                                             | 3P14             | 84                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | SP14 global interrupt                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | 0x0000 0190                 |             |
| 02                                                      | 05                                                                                             | CDIE             | 95                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | CDIE global interrupt                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | 0,0000 0104                 |             |
| 92                                                      | 65                                                                                             | 5815             | 65                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | SPIS global interrupt                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | 0x0000 0194                 |             |
| 00                                                      | 00                                                                                             | ODIO.            | 00                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | CDIC alabal into much                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | 00000 0400                  |             |
| 93                                                      | 86                                                                                             | 5810             | 86                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | SPI6 global interrupt                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | 0x0000 0198                 |             |
| 94                                                      | 87                                                                                             | SAI1             | 87                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | SAI1 global interrupt                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | 0x0000 019C                 |             |
| 95                                                      | 88                                                                                             | LTDC             | 88                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | LCD-TFT global interrupt                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | 0x0000 01A0                 |             |
| 96                                                      | 89                                                                                             | LTDC_ER          | 89                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | LCD-TFT error interrupt                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | 0x0000 01A4                 |             |
| 97                                                      | 90                                                                                             | DMA2D            | 90                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | DMA2D global interrupt                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          | 0x0000 01A8                 |             |
| 98                                                      | 91                                                                                             | SAI2             | 91                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | SAI2 global interrupt                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | 0x0000 01AC                 |             |
| 99                                                      | 92                                                                                             | QUADSPI          | 92                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | QuadSPI global interrupt                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | 0x0000 01B0                 |             |
| 100                                                     | 00                                                                                             | I DTIMA          | 00                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | I DTIM4 alabal interment                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | 0,0000 0454                 |             |
| 100                                                     | 93                                                                                             | LPTIMI           | 93                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | LP HIVE global interrupt                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | 0x0000 01B4                 |             |
| 101                                                     | 04                                                                                             | 050              | 0.4                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              | LIDMI OFO slabal interment                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | 0,0000 0400                 |             |
| 101                                                     | 101                                                                                            | 94               | CEC                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              | 94                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              | mulvii-CEC global interrupt | 0x0000 01B8 |
| 400                                                     | 100                                                                                            | 05               | 1204 514                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | 05                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              | 12C4 event intermed         | 0,0000 0400 |
| 102                                                     | 95                                                                                             | 12U4_EV          | 95                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | 1204 event interrupt                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            | 0x0000 01BC                 |             |
| 103                                                     | 96                                                                                             | I2C4_ER          | 96                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | I2C4 error interrupt                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            | 0x0000 01C0                 |             |
| 104                                                     | 97                                                                                             | SPDIF            | 97                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | SPDIFRX global interrupt                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | 0x0000 01C4                 |             |
| 105                                                     | 98                                                                                             | OTG_FS_EP1_OUT   | 98                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | OTG_FS out global interrupt                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | 0x0000 01C8                 |             |
| 106                                                     | 99                                                                                             | OTG_FS_EP1_IN    | 99                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | OTG_FS in global interrupt                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | 0x0000 01CC                 |             |
| 107                                                     | 100                                                                                            | OTG_FS_WKUP      | 100                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              | OTG_FS wakeup                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | 0x0000 01D0                 |             |
| 108                                                     | 101                                                                                            | OTG_FS           | 101                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              | OTG_FS global interrupt                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | 0x0000 01D4                 |             |
| 109                                                     | 102                                                                                            | DMAMUX1_OV       | 102                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              | DMAMUX1 overrun interrupt                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       | 0x0000 01D8                 |             |
| 110                                                     | 103                                                                                            | HRTIM1_MST       | 103                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              | HRTIM1 master timer interrupt                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | 0x0000 01DC                 |             |
| 111                                                     | 104                                                                                            | HRTIM1_TIMA      | 104                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              | HRTIM1 timer A interrupt                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | 0x0000 01E0                 |             |
| 112                                                     | 105                                                                                            | HRTIM_TIMB       | 105                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              | HRTIM1 timer B interrupt                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | 0x0000 01E4                 |             |
| 113                                                     | 106                                                                                            | HRTIM1_TIMC      | 106                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              | HRTIM1 timer C interrupt                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | 0x0000 01E8                 |             |
| 114                                                     | 107                                                                                            | HRTIM1_TIMD      | 107                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              | HRTIM1 timer D interrupt                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | 0x0000 01EC                 |             |
| 115                                                     | 108                                                                                            | HRTIM_TIME       | 108                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              | HRTIM1 timer E interrupt                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | 0x0000 01F0                 |             |
| 116                                                     | 109                                                                                            | HRTIM1_FLT       | 109                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              | HRTIM1 fault interrupt                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          | 0x0000 01F4                 |             |
| 117                                                     | 110                                                                                            | DFSDM1_FLT0      | 110                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              | DFSDM1 filter 0 interrupt                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       | 0x0000 01F8                 |             |
|                                                         | 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 | NVIC1   Position | Email Position         Acronym           91         84         SPI4           92         85         SPI5           93         86         SPI6           94         87         SAI1           95         88         LTDC           96         89         LTDC_ER           97         90         DMA2D           98         91         SAI2           99         92         QUADSPI           100         93         LPTIM1           -101         94         CEC           102         95         I2C4_EV           103         96         I2C4_ER           104         97         SPDIF           105         98         OTG_FS_EP1_OUT           106         99         OTG_FS_WKUP           108         101         OTG_FS           109         102         DMAMUX1_OV           110         103         HRTIM1_TIMA           111         104         HRTIM_TIMB           113         106         HRTIM1_TIMC           114         107         HRTIM1_TIME           115         108         HRTIM1_FLT | Position         Acronym         NVIC2 position           91         84         SPI4         84           92         85         SPI5         85           93         86         SPI6         86           94         87         SAI1         87           95         88         LTDC         88           96         89         LTDC_ER         89           97         90         DMA2D         90           98         91         SAI2         91           99         92         QUADSPI         92           100         93         LPTIM1         93           -101         94         CEC         94           -102         95         I2C4_EV         95           103         96         I2C4_ER         96           104         97         SPDIF         97           105         98         OTG_FS_EP1_OUT         98           106         99         OTG_FS_WKUP         100           108         101         OTG_FS         101           109         102         DMAMUX1_OV         102           110         103         HRTIM | NVIC1                       |             |

![](_page_6_Picture_5.jpeg)

## Table 149. NVIC1 (CPU1) and NVIC2 (CPU2)<sup>(1)</sup> (continued)

|                  | т.       | NVIC1    | IC1 (CPU1) and NV | NVIC2    |                                     | Address     |
|------------------|----------|----------|-------------------|----------|-------------------------------------|-------------|
| Signal           | Priority | position | Acronym           | position | Description                         | offset      |
| dfsdm1_it1       | 118      | 111      | DFSDM1_FLT1       | 111      | DFSDM1 filter 1 interrupt           | 0x0000 01FC |
| dfsdm1_it2       | 119      | 112      | DFSDM1_FLT2       | 112      | DFSDM1 filter 2 interrupt           | 0x0000 0200 |
| dfsdm1_it3       | 120      | 113      | DFSDM1_FLT3       | 113      | DFSDM1 filter 3 interrupt           | 0x0000 0204 |
| sai3_gbl_it      | 121      | 114      | SAI3              | 114      | SAI3 global interrupt               | 0x0000 0208 |
| swpmi_gbl_it     | 122      | 115      | SWPMI1            | 115      | SWPMI global interrupt              | 0x0000 020C |
| exti_swpmi_wup   | 122      |          |                   |          | SWPMI wakeup                        |             |
| tim15_gbl_it     | 123      | 116      | TIM15             | 116      | TIM15 global interrupt              | 0x0000 0210 |
| tim16_gbl_it     | 124      | 117      | TIM16             | 117      | TIM16 global interrupt              | 0x0000 0214 |
| tim17_gbl_it     | 125      | 118      | TIM17             | 118      | TIM17 global interrupt              | 0x0000 0218 |
| exti_mdios_wkup  | 126      | 119      | MDIOS_WKUP        | 119      | MDIOS wakeup                        | 0x0000 021C |
| mdios_it         | 127      | 120      | MDIOS             | 120      | MDIOS global interrupt              | 0x0000 0220 |
| jpeg_it          | 128      | 121      | JPEG              | 121      | JPEG global interrupt               | 0x0000 0224 |
| mdma_it          | 129      | 122      | MDMA              | 122      | MDMA                                | 0x0000 0228 |
| dsi_it           | 120      | 123      | DSI               | 123      | DSI Host global interrupt           | 0x0000 022C |
| exti_dsi_wkup    | 130      |          | DSI_WKUP          |          | DSI Host wakeup interrupt           |             |
| sdmmc2_it        | 131      | 124      | SDMMC2            | 124      | SDMMC global interrupt              | 0x0000 0230 |
| hsem1_it         | 132      | 125      | HSEM0             | -        | HSEM global interrupt 1             | 0x0000 0234 |
| hsem2_it         | 133      | -        | HSEM1             | 126      | HSEM global interrupt 2             | 0x0000 0238 |
| adc3_it          | 134      | 127      | ADC3              | 127      | ADC3 global interrupt               | 0x0000 023C |
| dmamux2_ovr_it   | 135      | 128      | DMAMUX2_OVR       | 128      | DMAMUX2 overrun interrupt           | 0x0000 0240 |
| bdma_ch0_it      | 136      | 129      | BDMA_CH0          | 129      | BDMA channel 0 interrupt            | 0x0000 0244 |
| bdma_ch1_it      | 137      | 130      | BDMA_CH1          | 130      | BDMA channel 1 interrupt            | 0x0000 0248 |
| bdma_ch2_it      | 138      | 131      | BDMA_CH2          | 131      | BDMA channel 2 interrupt            | 0x0000 024C |
| bdma_ch3_it      | 139      | 132      | BDMA_CH3          | 132      | BDMA channel 3 interrupt            | 0x0000 0250 |
| bdma_ch4_it      | 140      | 133      | BDMA_CH4          | 133      | BDMA channel 4 interrupt            | 0x0000 0254 |
| bdma_ch5_it      | 141      | 134      | BDMA_CH5          | 134      | BDMA channel 5 interrupt            | 0x0000 0258 |
| bdma_ch6_it      | 142      | 135      | BDMA_CH6          | 135      | BDMA channel 6 interrupt            | 0x0000 025C |
| bdma_ch7_it      | 143      | 136      | BDMA_CH7          | 136      | BDMA channel 7 interrupt            | 0x0000 0260 |
| comp_gbl_it      |          | 137      | СОМР              | 13/      | COMP1 and COMP2<br>global interrupt | 0x0000 0264 |
| exti_comp1_wkup  | 144      |          |                   |          |                                     |             |
| exti_comp2_wkup  |          |          |                   |          |                                     |             |
| lptim2_it        | 445      | 138      | LPTIM2            | 138      | LPTIM2 timer interrupt              | 0x0000 0268 |
| exti_lptim2_wkup | 145      |          |                   |          |                                     |             |

![](_page_7_Picture_4.jpeg)

RM0399 Rev 4 795/3556

Table 149. NVIC1 (CPU1) and NVIC2 (CPU2)<sup>(1)</sup> (continued)

| Signal            | Priority | NVIC1 position | Acronym                  | NVIC2<br>position | Description                                | Address<br>offset |
|-------------------|----------|----------------|--------------------------|-------------------|--------------------------------------------|-------------------|
| lptim3_it         | 146      | 139            | LPTIM3                   | 139               | LPTIM2 timer interrupt                     | 0x0000 026C       |
| exti_lptim3_wkup  |          |                |                          |                   |                                            |                   |
| lptim4_it         | 147      | 140            | LPTIM4                   | 140               | LPTIM2 timer interrupt                     | 0x0000 0270       |
| exti_lptim4_wkup  |          |                |                          |                   |                                            |                   |
| lptim5_it         | 148      | 141            | LPTIM5                   | 141               | LPTIM2 timer interrupt                     | 0x0000 0274       |
| exti_lptim5_wkup  |          |                |                          |                   |                                            |                   |
| lpuart_gbl_it     | 149      | 142            | LPUART                   | 142               | LPUART global interrupt                    | 0x0000 0278       |
| exti_lpuart_rx_it |          |                |                          |                   |                                            |                   |
| exti_lpuart_tx_it |          |                |                          |                   |                                            |                   |
| exti_d2_wwdg_wkup | 150      | 143            | WWDG2_RST                | -                 | Window Watchdog interrupt                  | 0x0000 027C       |
| exti_d1_wwdg_wkup | 150      | -              | WWDG1_RST                | 143               | Window Watchdog interrupt                  |                   |
| crs_it            | 151      | 144            | CRS                      | 144               | Clock Recovery System global interrupt     | 0x0000 0280       |
| ramecc1_it        |          | 145            | ECC                      | 145               | ECC diagnostic global interrupt for RAM D1 | 0x0000 0284       |
| ramecc2_it        | 152      |                |                          |                   | ECC diagnostic global interrupt for RAM D2 |                   |
| ramecc3_it        |          |                |                          |                   | ECC diagnostic global interrupt for RAM D3 |                   |
| sai4_glb_it       | 153      | 146            | SAI4                     | 146               | SAI4 global interrupt                      | 0x0000 0288       |
| cpu1hold_it       | 155      | 148            | HOLD_CORE<br>(CPU1_HOLD) | -                 | CPU1 hold                                  | - 0x0000 0290     |
| cpu2hold_it       |          | -              | HOLD_CORE<br>(CPU2_HOLD) | 148               | CPU2 hold                                  |                   |
| exti_wkup1_wkup   |          | 149            | WKUP                     | 149               | WKUP0 to WKUP5 pins                        | 0x0000 0294       |
| exti_wkup2_wkup   | 156      |                |                          |                   |                                            |                   |
| exti_wkup3_wkup   |          |                |                          |                   |                                            |                   |
| exti_wkup4_wkup   |          |                |                          |                   |                                            |                   |
| exti_wkup5_wkup   |          |                |                          |                   |                                            |                   |
| exti_wkup6_wkup   |          |                |                          |                   |                                            |                   |

<sup>1.</sup> When different signals are connected to the same NVIC interrupt line, they are OR-ed.

![](_page_8_Picture_5.jpeg)