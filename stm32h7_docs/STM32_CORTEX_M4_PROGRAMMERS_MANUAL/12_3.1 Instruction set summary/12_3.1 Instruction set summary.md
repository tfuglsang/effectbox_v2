## **3 The STM32 Cortex-M4 instruction set**

This chapter is the reference material for the Cortex-M4 instruction set description in a User Guide. The following sections give general information:

*[Section 3.1: Instruction set summary on page 50](#page-0-0)*

*Section 3.2: CMSIS intrinsic functions on page 58*

*Section 3.3: About the instruction descriptions on page 60*

Each of the following sections describes a functional group of Cortex-M4 instructions. Together they describe all the instructions supported by the Cortex-M4 processor:

*Section 3.4: Memory access instructions on page 69*

*Section 3.5: General data processing instructions on page 81*

*Section 3.6: Multiply and divide instructions on page 109*

*Section 3.7: Saturating instructions on page 125*

*Section 3.8: Packing and unpacking instructions on page 134*

*Section 3.9: Bitfield instructions on page 138*

*Section 3.10: Floating-point instructions on page 149*

*Section 3.11: Miscellaneous instructions on page 180*

## <span id="page-0-0"></span>**3.1 Instruction set summary**

The processor implements a version of the thumb instruction set. *[Table 21](#page-0-1)* lists the supported instructions.

## In *[Table 21](#page-0-1)*:

- Angle brackets, <>, enclose alternative forms of the operand.
- Braces, {}, enclose optional operands.
- The operands column is not exhaustive.
- Op2 is a flexible second operand that can be either a register or a constant.
- Most instructions can use an optional condition code suffix.

For more information on the instructions and operands, see the instruction descriptions.

<span id="page-0-1"></span>**Mnemonic Operands Brief description Flags Page** ADC, ADCS {Rd,} Rn, Op2 Add with carry N,Z,C,V *3.5.1 on page 83* ADD, ADDS {Rd,} Rn, Op2 Add N,Z,C,V *3.5.1 on page 83* ADD, ADDW {Rd,} Rn, #imm12 Add N,Z,C,V *3.5.1 on page 83* ADR Rd, label Load PC-relative address — *3.4.1 on page 70*

**Table 21. Cortex-M4 instructions** 

![](_page_0_Picture_28.jpeg)

Table 21. Cortex-M4 instructions (continued)

| Mnemonic        | Operands                | Brief description                          | Flags   | Page               |
|-----------------|-------------------------|--------------------------------------------|---------|--------------------|
| AND, ANDS       | {Rd,} Rn, Op2           | Logical AND                                | N,Z,C   | 3.5.2 on page 85   |
| ASR, ASRS       | Rd, Rm, <rs #n></rs #n> | Arithmetic shift right                     | N,Z,C   | 3.5.3 on page 86   |
| В               | label                   | Branch                                     | _       | 3.9.5 on page 142  |
| BFC             | Rd, #lsb, #width        | Bit field clear                            | _       | 3.9.1 on page 139  |
| BFI             | Rd, Rn, #Isb, #width    | Bit field insert                           | _       | 3.9.1 on page 139  |
| BIC, BICS       | {Rd,} Rn, Op2           | Bit clear                                  | N,Z,C   | 3.5.2 on page 85   |
| BKPT            | #imm                    | Breakpoint                                 | _       | 3.11.1 on page 181 |
| BL              | label                   | Branch with link                           | _       | 3.9.5 on page 142  |
| BLX             | Rm                      | Branch indirect with link                  | _       | 3.9.5 on page 142  |
| ВХ              | Rm                      | Branch indirect                            | _       | 3.9.5 on page 142  |
| CBNZ            | Rn, label               | Compare and branch if non zero             | _       | 3.9.6 on page 144  |
| CBZ             | Rn, label               | Compare and branch if zero                 | _       | 3.9.6 on page 144  |
| CLREX           | _                       | Clear exclusive                            | _       | 3.4.9 on page 80   |
| CLZ             | Rd, Rm                  | Count leading zeros                        | _       | 3.5.4 on page 87   |
| CMN             | Rn, Op2                 | Compare negative                           | N,Z,C,V | 3.5.5 on page 88   |
| CMP             | Rn, Op2                 | Compare                                    | N,Z,C,V | 3.5.5 on page 88   |
| CPSID           | iflags                  | Change processor state, disable interrupts | _       | 3.11.2 on page 182 |
| CPSIE           | iflags                  | Change processor state, enable interrupts  | _       | 3.11.2 on page 182 |
| DMB             | _                       | Data memory barrier                        | _       | 3.11.4 on page 184 |
| DSB             | _                       | Data synchronization barrier               | _       | 3.11.4 on page 184 |
| EOR, EORS       | {Rd,} Rn, Op2           | Exclusive OR                               | N,Z,C   | 3.5.2 on page 85   |
| ISB             | _                       | Instruction synchronization barrier        | _       | 3.11.5 on page 185 |
| IT              | _                       | If-then condition block                    | _       | 3.9.7 on page 145  |
| LDM             | Rn{!}, reglist          | Load multiple registers, increment after   | _       | 3.4.6 on page 76   |
| LDMDB,<br>LDMEA | Rn{!}, reglist          | Load multiple registers, decrement before  | _       | 3.4.6 on page 76   |
| LDMFD,<br>LDMIA | Rn{!}, reglist          | Load multiple registers, increment after   | _       | 3.4.6 on page 76   |
| LDR             | Rt, [Rn, #offset]       | Load register with word                    | _       | 3.4 on page 69     |
| LDRB,<br>LDRBT  | Rt, [Rn, #offset]       | Load register with byte                    | _       | 3.4 on page 69     |
| LDRD            | Rt, Rt2, [Rn, #offset]  | Load register with two bytes               | _       | 3.4.2 on page 71   |
| LDREX           | Rt, [Rn, #offset]       | Load register exclusive                    | _       | 3.4.8 on page 79   |
| L               | 1                       | l .                                        | 1       | 1                  |

![](_page_1_Picture_4.jpeg)

PM0214 Rev 10 51/262

Table 21. Cortex-M4 instructions (continued)

| Mnemonic         | Operands                | Brief description                              | Flags   | Page               |
|------------------|-------------------------|------------------------------------------------|---------|--------------------|
| LDREXB           | Rt, [Rn]                | Load register exclusive with byte              | _       | 3.4.8 on page 79   |
| LDREXH           | Rt, [Rn]                | Load register exclusive with halfword          | _       | 3.4.8 on page 79   |
| LDRH,<br>LDRHT   | Rt, [Rn, #offset]       | Load register with halfword                    | _       | 3.4 on page 69     |
| LDRSB,<br>LDRSBT | Rt, [Rn, #offset]       | Load register with signed byte                 | _       | 3.4 on page 69     |
| LDRSH,<br>LDRSHT | Rt, [Rn, #offset]       | Load register with signed halfword             | _       | 3.4 on page 69     |
| LDRT             | Rt, [Rn, #offset]       | Load register with word                        | _       | 3.4 on page 69     |
| LSL, LSLS        | Rd, Rm, <rs #n></rs #n> | Logical shift left                             | N,Z,C   | 3.5.3 on page 86   |
| LSR, LSRS        | Rd, Rm, <rs #n></rs #n> | Logical shift right                            | N,Z,C   | 3.5.3 on page 86   |
| MLA              | Rd, Rn, Rm, Ra          | Multiply with accumulate, 32-bit result        | _       | 3.6.1 on page 110  |
| MLS              | Rd, Rn, Rm, Ra          | Multiply and subtract, 32-bit result           | _       | 3.6.1 on page 110  |
| MOV, MOVS        | Rd, Op2                 | Move                                           | N,Z,C   | 3.5.6 on page 89   |
| MOVT             | Rd, #imm16              | Move top                                       | _       | 3.5.7 on page 91   |
| MOVW,<br>MOV     | Rd, #imm16              | Move 16-bit constant                           | N,Z,C   | 3.5.6 on page 89   |
| MRS              | Rd, spec_reg            | Move from special register to general register | _       | 3.11.6 on page 186 |
| MSR              | spec_reg, Rm            | Move from general register to special register | N,Z,C,V | 3.11.7 on page 187 |
| MUL, MULS        | {Rd,} Rn, Rm            | Multiply, 32-bit result                        | N,Z     | 3.6.1 on page 110  |
| MVN, MVNS        | Rd, Op2                 | Move NOT                                       | N,Z,C   | 3.5.6 on page 89   |
| NOP              | _                       | No operation                                   | _       | 3.11.8 on page 188 |
| ORN, ORNS        | {Rd,} Rn, Op2           | Logical OR NOT                                 | N,Z,C   | 3.5.2 on page 85   |
| ORR, ORRS        | {Rd,} Rn, Op2           | Logical OR                                     | N,Z,C   | 3.5.2 on page 85   |
| PKHTB,<br>PKHBT  | {Rd,} Rn, Rm, Op2       | Pack Halfword                                  | -       | 3.8.1 on page 135  |
| POP              | reglist                 | Pop registers from stack                       | _       | 3.4.7 on page 78   |
| PUSH             | reglist                 | Push registers onto stack                      | _       | 3.4.7 on page 78   |
| QADD             | {Rd,} Rn, Rm            | Saturating double and add                      | -       | 3.7.3 on page 128  |
| QADD16           | {Rd,} Rn, Rm            | Saturating add 16                              | -       | 3.7.3 on page 128  |
| QADD8            | {Rd,} Rn, Rm            | Saturating add 8                               | -       | 3.7.3 on page 128  |
| QASX             | {Rd,} Rn, Rm            | Saturating add and subtract with exchange      | -       | 3.7.4 on page 129  |

Table 21. Cortex-M4 instructions (continued)

| Mnemonic                                | Operands                | Brief description                                     | Flags   | Page               |
|-----------------------------------------|-------------------------|-------------------------------------------------------|---------|--------------------|
| QDADD                                   | {Rd,} Rn, Rm            | Saturating add                                        | -       | 3.7.5 on page 130  |
| QDSUB                                   | {Rd,} Rn, Rm            | Saturating double and subtract                        | -       | 3.7.5 on page 130  |
| QSAX                                    | {Rd,} Rn, Rm            | Saturating subtract and add with exchange             | -       | 3.7.4 on page 129  |
| QSUB                                    | {Rd,} Rn, Rm            | Saturating subtract                                   | -       | 3.7.3 on page 128  |
| QSUB16                                  | {Rd,} Rn, Rm            | Saturating subtract 16                                | -       | 3.7.4 on page 129  |
| QSUB8                                   | {Rd,} Rn, Rm            | Saturating subtract 8                                 | -       | 3.7.4 on page 129  |
| RBIT                                    | Rd, Rn                  | Reverse bits                                          | _       | 3.7.4 on page 129  |
| REV                                     | Rd, Rn                  | Reverse byte order in a word                          | _       | 3.5.8 on page 92   |
| REV16                                   | Rd, Rn                  | Reverse byte order in each halfword                   | _       | 3.5.8 on page 92   |
| REVSH                                   | Rd, Rn                  | Reverse byte order in bottom halfword and sign extend | _       | 3.5.8 on page 92   |
| ROR, RORS                               | Rd, Rm, <rs #n></rs #n> | Rotate right                                          | N,Z,C   | 3.5.3 on page 86   |
| RRX, RRXS                               | Rd, Rm                  | Rotate right with extend                              | N,Z,C   | 3.5.3 on page 86   |
| RSB, RSBS                               | {Rd,} Rn, Op2           | Reverse subtract                                      | N,Z,C,V | 3.5.1 on page 83   |
| SADD16                                  | {Rd,} Rn, Rm            | Signed add 16                                         | -       | 3.5.9 on page 93   |
| SADD8                                   | {Rd,} Rn, Rm            | Signed add 8                                          | -       | 3.5.9 on page 93   |
| SASX                                    | {Rd,} Rn, Rm            | Signed add and subtract with exchange                 | -       | 3.5.14 on page 98  |
| SBC, SBCS                               | {Rd,} Rn, Op2           | Subtract with carry                                   | N,Z,C,V | 3.5.1 on page 83   |
| SBFX                                    | Rd, Rn, #lsb, #width    | Signed bit field extract                              | _       | 3.9.2 on page 140  |
| SDIV                                    | {Rd,} Rn, Rm            | Signed divide                                         | _       | 3.6.3 on page 112  |
| SEV                                     | _                       | Send event                                            | _       | 3.11.9 on page 189 |
| SHADD16                                 | {Rd,} Rn, Rm            | Signed halving add 16                                 | _       | 3.5.10 on page 94  |
| SHADD8                                  | {Rd,} Rn, Rm            | Signed halving add 8                                  | _       | 3.5.10 on page 94  |
| SHASX                                   | {Rd,} Rn, Rm            | Signed halving add and subtract with exchange         | _       | 3.5.11 on page 95  |
| SHSAX                                   | {Rd,} Rn, Rm            | Signed halving subtract and add with exchange         | _       | 3.5.11 on page 95  |
| SHSUB16                                 | {Rd,} Rn, Rm            | Signed halving subtract 16                            | _       | 3.5.12 on page 96  |
| SHSUB8                                  | {Rd,} Rn, Rm            | Signed halving subtract 8                             | _       | 3.5.12 on page 96  |
| SMLABB,<br>SMLABT,<br>SMLATB,<br>SMLATT | Rd, Rn, Rm, Ra          | Signed multiply accumulate long (halfwords)           | Q       | 3.6.3 on page 112  |
| SMLAD,<br>SMLADX                        | Rd, Rn, Rm, Ra          | Signed multiply accumulate dual                       | Q       | 3.6.4 on page 114  |

![](_page_3_Picture_4.jpeg)

PM0214 Rev 10 53/262

Table 21. Cortex-M4 instructions (continued)

| Mnemonic                                    | Operands               | Brief description                                             | Flags | Page               |
|---------------------------------------------|------------------------|---------------------------------------------------------------|-------|--------------------|
| SMLAL                                       | RdLo, RdHi, Rn, Rm     | Signed multiply with accumulate (32 x 32 + 64), 64-bit result | _     | 3.6.2 on page 111  |
| SMLALBB,<br>SMLALBT,<br>SMLALTB,<br>SMLALTT | RdLo, RdHi, Rn, Rm     | Signed multiply accumulate long, halfwords                    | _     | 3.6.5 on page 115  |
| SMLALD,<br>SMLALDX                          | RdLo, RdHi, Rn, Rm     | Signed multiply accumulate long dual                          | _     | 3.6.5 on page 115  |
| SMLAWB,<br>SMLAWT                           | Rd, Rn, Rm, Ra         | Signed multiply accumulate, word by halfword                  | Q     | 3.6.3 on page 112  |
| SMLSD                                       | Rd, Rn, Rm, Ra         | Signed multiply subtract dual                                 | Q     | 3.6.6 on page 117  |
| SMLSLD                                      | RdLo, RdHi, Rn, Rm     | Signed multiply subtract long dual                            | _     | 3.6.6 on page 117  |
| SMMLA                                       | Rd, Rn, Rm, Ra         | Signed most significant word multiply accumulate              | _     | 3.6.7 on page 119  |
| SMMLS,<br>SMMLR                             | Rd, Rn, Rm, Ra         | Signed most significant word multiply subtract                | _     | 3.6.7 on page 119  |
| SMMUL,<br>SMMULR                            | {Rd,} Rn, Rm           | Signed most significant word multiply                         | _     | 3.6.8 on page 120  |
| SMUAD                                       | {Rd,} Rn, Rm           | Signed dual multiply add                                      | Q     | 3.6.9 on page 121  |
| SMULBB,<br>SMULBT<br>SMULTB,<br>SMULTT      | {Rd,} Rn, Rm           | Signed multiply (halfwords)                                   | _     | 3.6.10 on page 122 |
| SMULL                                       | RdLo, RdHi, Rn, Rm     | Signed multiply (32 x 32), 64-bit result                      | _     | 3.6.2 on page 111  |
| SSAT                                        | Rd, #n, Rm {,shift #s} | Signed saturate                                               | Q     | 3.7.1 on page 126  |
| SSAT16                                      | Rd, #n, Rm             | Signed saturate 16                                            | Q     | 3.7.2 on page 127  |
| SSAX                                        | {Rd,} Rn, Rm           | Signed subtract and add with exchange                         | GE    | 3.5.14 on page 98  |
| SSUB16                                      | {Rd,} Rn, Rm           | Signed subtract 16                                            | _     | 3.5.13 on page 97  |
| SSUB8                                       | {Rd,} Rn, Rm           | Signed subtract 8                                             | _     | 3.5.13 on page 97  |
| STM                                         | Rn{!}, reglist         | Store multiple registers, increment after                     | _     | 3.4.6 on page 76   |
| STMDB,<br>STMEA                             | Rn{!}, reglist         | Store multiple registers, decrement before                    | _     | 3.4.6 on page 76   |
| STMFD,<br>STMIA                             | Rn{!}, reglist         | Store multiple registers, increment after                     | _     | 3.4.6 on page 76   |
| STR                                         | Rt, [Rn, #offset]      | Store register word                                           | _     | 3.4 on page 69     |
| STRB,<br>STRBT                              | Rt, [Rn, #offset]      | Store register byte                                           |       | 3.4 on page 69     |

**Table 21. Cortex-M4 instructions (continued)**

| Mnemonic       | Operands                 | Brief description                                  | Flags   | Page                   |
|----------------|--------------------------|----------------------------------------------------|---------|------------------------|
| STRD           | Rt, Rt2, [Rn, #offset]   | Store register two words                           | —       | 3.4.2 on page 71       |
| STREX          | Rd, Rt, [Rn, #offset]    | Store register exclusive                           | —       | 3.4.8 on page 79       |
| STREXB         | Rd, Rt, [Rn]             | Store register exclusive byte                      | —       | 3.4.8 on page 79       |
| STREXH         | Rd, Rt, [Rn]             | Store register exclusive<br>halfword               | —       | 3.4.8 on page 79       |
| STRH,<br>STRHT | Rt, [Rn, #offset]        | Store register halfword                            | —       | 3.4 on page 69         |
| STRT           | Rt, [Rn, #offset]        | Store register word                                | —       | 3.4 on page 69         |
| SUB, SUBS      | {Rd,} Rn, Op2            | Subtract                                           | N,Z,C,V | 3.5.1 on page 83       |
| SUB, SUBW      | {Rd,} Rn, #imm12         | Subtract                                           | N,Z,C,V | 3.5.1 on page 83       |
| SVC            | #imm                     | Supervisor call                                    | —       | 3.11.10 on page<br>190 |
| SXTAB          | {Rd,} Rn, Rm,{,ROR<br>#} | Extend 8 bits to 32 and add                        | —       | 3.8.3 on page 137      |
| SXTAB16        | {Rd,} Rn, Rm,{,ROR<br>#} | Dual extend 8 bits to 16 and<br>add                | —       | 3.8.3 on page 137      |
| SXTAH          | {Rd,} Rn, Rm,{,ROR<br>#} | Extend 16 bits to 32 and add                       | —       | 3.8.3 on page 137      |
| SXTB16         | {Rd,} Rm {,ROR #n}       | Signed extend byte 16                              | —       | 3.8.2 on page 136      |
| SXTB           | {Rd,} Rm {,ROR #n}       | Sign extend a byte                                 | —       | 3.9.3 on page 141      |
| SXTH           | {Rd,} Rm {,ROR #n}       | Sign extend a halfword                             | —       | 3.9.3 on page 141      |
| TBB            | [Rn, Rm]                 | Table branch byte                                  | —       | 3.9.8 on page 147      |
| TBH            | [Rn, Rm, LSL #1]         | Table branch halfword                              | —       | 3.9.8 on page 147      |
| TEQ            | Rn, Op2                  | Test equivalence                                   | N,Z,C   | 3.5.9 on page 93       |
| TST            | Rn, Op2                  | Test                                               | N,Z,C   | 3.5.9 on page 93       |
| UADD16         | {Rd,} Rn, Rm             | Unsigned add 16                                    | GE      | 3.5.16 on page 100     |
| UADD8          | {Rd,} Rn, Rm             | Unsigned add 8                                     | GE      | 3.5.16 on page 100     |
| USAX           | {Rd,} Rn, Rm             | Unsigned subtract and add<br>with exchange         | GE      | 3.5.17 on page 101     |
| UHADD16        | {Rd,} Rn, Rm             | Unsigned halving add 16                            | —       | 3.5.18 on page 102     |
| UHADD8         | {Rd,} Rn, Rm             | Unsigned halving add 8                             | —       | 3.5.18 on page 102     |
| UHASX          | {Rd,} Rn, Rm             | Unsigned halving add and<br>subtract with exchange | —       | 3.5.19 on page 103     |
| UHSAX          | {Rd,} Rn, Rm             | Unsigned halving subtract and<br>add with exchange | —       | 3.5.19 on page 103     |
| UHSUB16        | {Rd,} Rn, Rm             | Unsigned halving subtract 16                       | —       | 3.5.20 on page 104     |
| UHSUB8         | {Rd,} Rn, Rm             | Unsigned halving subtract 8                        | —       | 3.5.20 on page 104     |
| UBFX           | Rd, Rn, #lsb, #width     | Unsigned bit field extract                         | —       | 3.9.2 on page 140      |
|                |                          |                                                    |         |                        |

![](_page_5_Picture_4.jpeg)

PM0214 Rev 10 55/262

**Table 21. Cortex-M4 instructions (continued)**

| Mnemonic | Operands                 | Brief description                                                                    | Flags | Page               |
|----------|--------------------------|--------------------------------------------------------------------------------------|-------|--------------------|
| UDIV     | {Rd,} Rn, Rm             | Unsigned divide                                                                      | —     | 3.6.3 on page 112  |
| UMAAL    | RdLo, RdHi, Rn, Rm       | Unsigned multiply accumulate<br>accumulate long (32 x 32 + 32<br>+32), 64-bit result | —     | 3.6.2 on page 111  |
| UMLAL    | RdLo, RdHi, Rn, Rm       | Unsigned multiply with<br>accumulate (32 x 32 + 64), 64-<br>bit result               | —     | 3.6.2 on page 111  |
| UMULL    | RdLo, RdHi, Rn, Rm       | Unsigned multiply (32 x 32),<br>64-bit result                                        | —     | 3.6.2 on page 111  |
| UQADD16  | {Rd,} Rn, Rm             | Unsigned saturating add 16                                                           | —     | 3.7.7 on page 132  |
| UQADD8   | {Rd,} Rn, Rm             | Unsigned saturating add 8                                                            | —     | 3.7.7 on page 132  |
| UQASX    | {Rd,} Rn, Rm             | Unsigned saturating add and<br>subtract with exchange                                | —     | 3.7.6 on page 131  |
| UQSAX    | {Rd,} Rn, Rm             | Unsigned saturating subtract<br>and add with exchange                                | —     | 3.7.6 on page 131  |
| UQSUB16  | {Rd,} Rn, Rm             | Unsigned saturating subtract<br>16                                                   | —     | 3.7.7 on page 132  |
| UQSUB8   | {Rd,} Rn, Rm             | Unsigned saturating subtract 8                                                       | —     | 3.7.7 on page 132  |
| USAD8    | {Rd,} Rn, Rm             | Unsigned sum of absolute<br>differences                                              | —     | 3.5.22 on page 106 |
| USADA8   | {Rd,} Rn, Rm, Ra         | Unsigned sum of absolute<br>differences and accumulate                               | —     | 3.5.23 on page 107 |
| USAT     | Rd, #n, Rm {,shift #s}   | Unsigned saturate                                                                    | Q     | 3.7.1 on page 126  |
| USAT16   | Rd, #n, Rm               | Unsigned saturate 16                                                                 | Q     | 3.7.2 on page 127  |
| UASX     | {Rd,} Rn, Rm             | Unsigned add and subtract<br>with exchange                                           | GE    | 3.5.17 on page 101 |
| USUB16   | {Rd,} Rn, Rm             | Unsigned subtract 16                                                                 | GE    | 3.5.24 on page 108 |
| USUB8    | {Rd,} Rn, Rm             | Unsigned subtract 8                                                                  | GE    | 3.5.24 on page 108 |
| UXTAB    | {Rd,} Rn, Rm,{,ROR<br>#} | Rotate, extend 8 bits to 32 and<br>add                                               | —     | 3.8.3 on page 137  |
| UXTAB16  | {Rd,} Rn, Rm,{,ROR<br>#} | Rotate, dual extend 8 bits to<br>16 and add                                          | —     | 3.8.3 on page 137  |
| UXTAH    | {Rd,} Rn, Rm,{,ROR<br>#} | Rotate, unsigned extend and<br>add halfword                                          | —     | 3.8.3 on page 137  |
| UXTB     | {Rd,} Rm {,ROR #n}       | Zero extend a byte                                                                   | —     | 3.8.2 on page 136  |
| UXTB16   | {Rd,} Rm {,ROR #n}       | Unsigned extend byte 16                                                              | —     | 3.8.2 on page 136  |
| UXTH     | {Rd,} Rm {,ROR #n}       | Zero extend a halfword                                                               | —     | 3.8.2 on page 136  |
| VABS.F32 | Sd, Sm                   | Floating-point absolute                                                              | —     | 3.10.1 on page 151 |
| VADD.F32 | {Sd,} Sn, Sm             | Floating-point add                                                                   | —     | 3.10.2 on page 152 |

Table 21. Cortex-M4 instructions (continued)

| Mnemonic                            | Operands                   | Brief description                                                                                          | Flags | Page                   |
|-------------------------------------|----------------------------|------------------------------------------------------------------------------------------------------------|-------|------------------------|
| VCMP.F32                            | Sd, <sm #0.0=""  =""></sm> | Compare two floating-point registers, or one floating-point register and zero                              | FPSCR | 3.10.3 on page 153     |
| VCMPE.F32                           | Sd, <sm #0.0=""  =""></sm> | Compare two floating-point registers, or one floating-point register and zero with Invalid Operation check | FPSCR | 3.10.3 on page 153     |
| VCVT.S32.F<br>32                    | Sd, Sm                     | Convert between floating-point and integer                                                                 | _     | 3.10.4 on page 154     |
| VCVT.S16.F<br>32                    | Sd, Sd, #fbits             | Convert between floating-point and fixed point                                                             | _     | 3.10.4 on page 154     |
| VCVTR.S32.<br>F32                   | Sd, Sm                     | Convert between floating-point and integer with rounding                                                   | _     | 3.10.4 on page 154     |
| VCVT <b h>.<br/>F32.F16</b h>       | Sd, Sm                     | Converts half-precision value to single-precision                                                          | _     | 3.10.5 on page 155     |
| VCVTT <b t<br>&gt;.F32.F16</b t<br> | Sd, Sm                     | Converts single-precision register to half-precision                                                       | _     | 3.10.6 on page 156     |
| VDIV.F32                            | {Sd,} Sn, Sm               | Floating-point divide                                                                                      |       | 3.10.7 on page 157     |
| VFMA.F32                            | {Sd,} Sn, Sm               | Floating-point fused multiply accumulate                                                                   | _     | 3.10.8 on page 158     |
| VFNMA.F32                           | {Sd,} Sn, Sm               | Floating-point fused negate multiply accumulate                                                            | _     | 3.10.9 on page 159     |
| VFMS.F32                            | {Sd,} Sn, Sm               | Floating-point fused multiply subtract                                                                     | _     | 3.10.8 on page 158     |
| VFNMS.F32                           | {Sd,} Sn, Sm               | Floating-point fused negate multiply subtract                                                              | _     | 3.10.9 on page 159     |
| VLDM.F<32 <br>64>                   | Rn{!}, list                | Load multiple extension registers                                                                          | _     | 3.10.10 on page<br>160 |
| VLDR.F<32 <br>64>                   | <dd sd>, [Rn]</dd sd>      | Load an extension register from memory                                                                     | _     | 3.10.11 on page<br>161 |
| VLMA.F32                            | {Sd,} Sn, Sm               | Floating-point multiply accumulate                                                                         | _     | 3.10.12 on page<br>162 |
| VLMS.F32                            | {Sd,} Sn, Sm               | Floating-point multiply subtract                                                                           | _     | 3.10.12 on page<br>162 |
| VMOV.F32                            | Sd, #imm                   | Floating-point move immediate                                                                              | _     | 3.10.13 on page<br>163 |
| VMOV                                | Sd, Sm                     | Floating-point move register                                                                               | _     | 3.10.14 on page<br>164 |
| VMOV                                | Sn, Rt                     | Copy Arm core register to single precision                                                                 | _     | 3.10.18 on page<br>168 |
| VMOV                                | Sm, Sm1, Rt, Rt2           | Copy 2 Arm core registers to 2 single precision                                                            | _     | 3.10.17 on page<br>167 |

![](_page_7_Picture_4.jpeg)

PM0214 Rev 10 57/262